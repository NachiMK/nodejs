{"version":3,"sources":["../../../../src/routes/services/delete/index.js"],"names":["deleteService","before","require","ROLE_PLATFORM_HIXME_ADMIN","tableName","key","event","body","ServicePublicKey","after"],"mappings":";;;;;;;AAAA;;;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEO,MAAMA,wCAAgB,wBAC3BC,6BAD2B,EAE3B,uCAAaC,QAAQ,uBAAR,CAAb,CAF2B,EAG3B,gDAAiB,CAACC,qCAAD,CAAjB,CAH2B,EAI3B,4CAAqB,EAAEC,WAAW,UAAb,EAAyBC,KAAMC,KAAD,IAAWA,MAAMC,IAAN,CAAWC,gBAApD,EAArB,CAJ2B,EAK3BC,4BAL2B,CAAtB","file":"index.js","sourcesContent":["import ware from 'warewolf';\nimport { before, after } from '@hixme/before-after-middleware';\nimport { isRoleAuthorized } from '@hixme/role-authorizer-middleware';\nimport { validateBody } from '@hixme/validator-middleware';\nimport { inactivateDynamoItem } from '@hixme/dynamo-middleware';\nimport { ROLE_PLATFORM_HIXME_ADMIN } from '@hixme/role-policy';\n\nexport const deleteService = ware(\n  before,\n  validateBody(require('./request.schema.json')), // eslint-disable-line\n  isRoleAuthorized([ROLE_PLATFORM_HIXME_ADMIN]),\n  inactivateDynamoItem({ tableName: 'services', key: (event) => event.body.ServicePublicKey }),\n  after\n);\n"]}