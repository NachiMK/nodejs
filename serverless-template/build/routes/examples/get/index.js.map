{"version":3,"sources":["../../../../src/routes/examples/get/index.js"],"names":["get","event","fortune","Math","floor","random","message","nodeVersion","process","versions","node","result","query","showEvent"],"mappings":";;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AAEO,MAAMA,oBAAM,uCAGjB,MAAOC,KAAP,IAAiB;AAEf,QAAMC,UAAU,wBAAcC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,GAA3B,IAAkC,CAAhD,CAAhB;AACA,QAAMC,UAAU,UAAhB;AACA,QAAMC,cAAcC,QAAQC,QAAR,CAAiBC,IAArC;;AAEAT,QAAMU,MAAN,GAAe;AACbT,WADa;AAEbI,WAFa;AAGb,oBAAgBC;AAHH,GAAf;;AAOA,MAAI,8BAAkBN,MAAMW,KAAN,CAAYC,SAA9B,CAAJ,EAA8C;AAC5CZ,UAAMU,MAAN,CAAaV,KAAb,8BAA0BA,KAA1B;AACD;AACF,CAnBgB,eAAZ","file":"index.js","sourcesContent":["import fortuneCookie from 'fortune-cookie'\nimport ware from 'warewolf'\nimport { before, after, queryStringIsTrue } from '../../../utils'\n\nexport const get = ware(\n  before,\n\n  async (event) => {\n    // grab a random fortune from the 'fortune-cookie' module\n    const fortune = fortuneCookie[Math.floor(Math.random() * 250) + 1]\n    const message = 'success!'\n    const nodeVersion = process.versions.node\n\n    event.result = {\n      fortune,\n      message,\n      'node version': nodeVersion,\n    }\n\n    // if `showEvent` qs-param is true...\n    if (queryStringIsTrue(event.query.showEvent)) {\n      event.result.event = { ...event }\n    }\n  },\n\n  after,\n)\n"]}