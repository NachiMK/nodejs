{"version":3,"sources":["../../../../src/routes/examples/get/index.js"],"names":["get","event","fortune","Math","floor","random","message","nodeVersion","process","versions","node","result","query","showEvent"],"mappings":";;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AAEO,MAAMA,oBAAM;AAAA,6CAGjB,WAAOC,KAAP,EAAiB;AAEf,UAAMC,UAAU,wBAAcC,KAAKC,KAAL,CAAWD,KAAKE,MAAL,KAAgB,GAA3B,IAAkC,CAAhD,CAAhB;AACA,UAAMC,UAAU,UAAhB;AACA,UAAMC,cAAcC,QAAQC,QAAR,CAAiBC,IAArC;;AAEAT,UAAMU,MAAN,GAAe;AACbT,aADa;AAEbI,aAFa;AAGb,sBAAgBC;AAHH,KAAf;;AAOA,QAAI,8BAAkBN,MAAMW,KAAN,CAAYC,SAA9B,CAAJ,EAA8C;AAC5CZ,YAAMU,MAAN,CAAaV,KAAb,8BAA0BA,KAA1B;AACD;AACF,GAnBgB;;AAAA;AAAA;AAAA;AAAA,mBAAZ","file":"index.js","sourcesContent":["import fortuneCookie from 'fortune-cookie'\nimport ware from 'warewolf'\nimport { before, after, queryStringIsTrue } from '../../../utils'\n\nexport const get = ware(\n  before,\n\n  async (event) => {\n    // grab a random fortune from the 'fortune-cookie' module\n    const fortune = fortuneCookie[Math.floor(Math.random() * 250) + 1]\n    const message = 'success!'\n    const nodeVersion = process.versions.node\n\n    event.result = {\n      fortune,\n      message,\n      'node version': nodeVersion,\n    }\n\n    // if `showEvent` qs-param is true...\n    if (queryStringIsTrue(event.query.showEvent)) {\n      event.result.event = { ...event }\n    }\n  },\n\n  after,\n)\n"]}