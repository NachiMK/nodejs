{"version":3,"sources":["../../../src/data/models/member.js"],"names":["Member","BaseModel","defaultSchema","tableName","idColumn","jsonSchema","MemberSchema","relationMappings","Phones","relation","Model","HasManyRelation","modelClass","__dirname","join","from","to","Children","Parent","BelongsToOneRelation"],"mappings":";;;;;;AAAA;;AACA;;AACA;;AAEe,MAAMA,MAAN,SAAqBC,yBAArB,CAA+B;kBAAzBD,M;AAAAA,M,CACZE,a,GAAgB,Q;AADJF,M,CAGZG,S,GAAY,S;AAHAH,M,CAKZI,Q,GAAW,U;AALCJ,M,CAOZK,U,GAAaC,0B;AAPDN,M,CAUZO,gB,GAAmB;AACxBC,UAAQ;AACNC,cAAUC,iBAAMC,eADV;AAENC,gBAAa,GAAEC,SAAU,QAFnB;AAGNC,UAAM;AACJC,YAAM,kBADF;AAEJC,UAAI;AAFA;AAHA,GADgB;;AAUxBC,YAAU;AACRR,cAAUC,iBAAMC,eADR;AAERC,gBAAa,GAAEC,SAAU,SAFjB;AAGRC,UAAM;AACJC,YAAM,kBADF;AAEJC,UAAI;AAFA;AAHE,GAVc;;AAmBxBE,UAAQ;AACNT,cAAUC,iBAAMS,oBADV;AAENP,gBAAa,GAAEC,SAAU,SAFnB;AAGNC,UAAM;AACJC,YAAM,kBADF;AAEJC,UAAI;AAFA;AAHA;AAnBgB,C","file":"member.js","sourcesContent":["import { Model } from 'objection';\nimport { BaseModel } from '../../modules/objection-utils';\nimport { MemberSchema } from './member.schema.json';\n\nexport default class Member extends BaseModel {\n  static defaultSchema = 'family';\n\n  static tableName = 'Members';\n\n  static idColumn = 'MemberID';\n\n  static jsonSchema = MemberSchema;\n\n  // This object defines the relations to other models/tables.\n  static relationMappings = {\n    Phones: {\n      relation: Model.HasManyRelation,\n      modelClass: `${__dirname}/phone`, // This is a convention used by objection.js to create relationships without require loops.\n      join: {\n        from: 'Members.MemberID',\n        to: 'Phones.MemberID',\n      },\n    },\n\n    Children: {\n      relation: Model.HasManyRelation,\n      modelClass: `${__dirname}/member`,\n      join: {\n        from: 'Members.MemberID',\n        to: 'Members.ParentID',\n      },\n    },\n\n    Parent: {\n      relation: Model.BelongsToOneRelation,\n      modelClass: `${__dirname}/member`,\n      join: {\n        from: 'Members.ParentID',\n        to: 'Members.MemberID',\n      },\n    },\n  };\n}\n"]}