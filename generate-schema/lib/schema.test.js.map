{"version":3,"sources":["../schema.test.js"],"names":["generateSchema","require","persons","Id","FirstName","Gender","BirthDate","DivisionCode","NumberAndString","Salary","DateUpdated","test","schema","json","expect","items","properties","toBeDefined","format","toBe","enum","toBeUndefined","pickPopularFormat","addFormatCounts","formats","generateEnums","maxEnumValues","generateLengths"],"mappings":"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","file":"schema.test.js","sourcesContent":["const generateSchema = require(\"./index\");\n\nconst persons = [\n  {\n    Id: \"363f1eec-a814-4518-a738-6cb844b6cf92\",\n    FirstName: \"John\",\n    Gender: \"Male\",\n    BirthDate: \"2000-04-01\",\n    DivisionCode: \"PRP\",\n    NumberAndString: \"test\",\n    Salary: 10023.456787,\n    DateUpdated: \"2018-01-16T23:33:01+00:00\"\n  },\n  {\n    Id: \"474f1eec-a814-4518-a738-6cb844b6cf92\",\n    FirstName: \"Negate\",\n    Gender: \"Male\",\n    BirthDate: \"1999-05-01\",\n    DivisionCode: \"SFW\",\n    NumberAndString: \"test\",\n    Salary: -10023.5,\n    DateUpdated: \"2018-01-16T23:33:01+00:00\"\n  },\n  {\n    Id: \"363f1eec-a814-4518-a738-6cb844b6cf92\",\n    FirstName: \"Rani\",\n    Gender: \"Female\",\n    BirthDate: \"2002-04-01\",\n    DivisionCode: \"HDW\",\n    NumberAndString: \"one\",\n    Salary: 10023.7,\n    DateUpdated: \"2018-01-16T23:33:01+00:00\"\n  },\n  {\n    Id: \"abaa80cc-e0eb-4a33-8292-ec937ffe773b_INACTIVE\",\n    FirstName: \"Cindy\",\n    Gender: \"Female\",\n    BirthDate: \"March 10\",\n    DivisionCode: \"2018-01-16T23:33:44+00:00\",\n    NumberAndString: 10,\n    Salary: 10023.4501,\n    DateUpdated: \"2018-01-16T23:33:44+00:00\"\n  }\n];\n\ntest(\"Schema with no Enums\", () => {\n  const schema = generateSchema.json(\"Person\", persons);\n  // console.log(\"Without enums\", JSON.stringify(schema, null, 2));\n  expect(schema.items.properties.Id).toBeDefined();\n  expect(schema.items.properties.DivisionCode.format).toBeDefined();\n  expect(schema.items.properties.DivisionCode.format).toBe(\"date-time\");\n  expect(schema.items.properties.DivisionCode.enum).toBeUndefined();\n});\n\ntest(\"Schema with Popular Format\", () => {\n  const schema = generateSchema.json(\"Person\", persons, {\n    pickPopularFormat: true\n  });\n  // console.log(\"Without enums\", JSON.stringify(schema, null, 2));\n  expect(schema.items.properties.Id).toBeDefined();\n  expect(schema.items.properties.DivisionCode.format).toBeDefined();\n  expect(schema.items.properties.DivisionCode.format).toBe(\"string\");\n  expect(schema.items.properties.DivisionCode.enum).toBeUndefined();\n});\n\ntest(\"Schema with Format counts\", () => {\n  const schema = generateSchema.json(\"Person\", persons, {\n    addFormatCounts: true\n  });\n  // console.log(\"Without enums\", JSON.stringify(schema, null, 2));\n  expect(schema.items.properties.Id).toBeDefined();\n  expect(schema.items.properties.DivisionCode.format).toBeDefined();\n  expect(schema.items.properties.DivisionCode.formats).toBeDefined();\n});\n\ntest(\"Schema with Enums\", () => {\n  const schema = generateSchema.json(\"Person\", persons, {\n    generateEnums: true,\n    maxEnumValues: 2,\n    generateLengths: true\n  });\n  // console.log(\"Without enums\", JSON.stringify(schema, null, 2));\n  expect(schema.items.properties.Id).toBeDefined();\n  expect(schema.items.properties.DivisionCode.enum).toBeDefined();\n});\n"]}